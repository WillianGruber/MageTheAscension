@page "/"
@using Microsoft.AspNetCore.Components.Forms;

<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="d-flex justify-end gap-4">
    <MudFileUpload T="IBrowserFile" FilesChanged="@UploadFile" Class="mt-0">
        <ButtonTemplate>
            <MudButton Color="Color.Primary" Variant="Variant.Filled" HtmlTag="label" StartIcon="@Icons.Material.Filled.FileUpload" for="@context">
                Upload Sheet
            </MudButton>
        </ButtonTemplate>
    </MudFileUpload>
    <MudButton Color="Color.Primary" Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.FileDownload" OnClick="@DownloadFile" Class="mr-4">
        Download Sheet
    </MudButton>
</MudContainer>

<MudContainer MaxWidth="MaxWidth.ExtraLarge">
    <MudText Typo="Typo.h3" Align="Align.Center">Mage The Ascension</MudText>
    <MudText Typo="Typo.h5" Align="Align.Center" GutterBottom="true">20th Anniversary Edition</MudText>
    <TriColumnCard LeftColumn="@Sheet.Header.GetRange(0, 3)" MidColumn="@Sheet.Header.GetRange(3, 3)" RightColumn="@Sheet.Header.GetRange(6, 3)" />
    <TriColumnCard HeaderTitle="Attributes" LeftColumn="@Sheet.Physical" LeftColumnTitle="Physical" MidColumn="@Sheet.Social" MidColumnTitle="Social" RightColumn="@Sheet.Mental" RightColumnTitle="Mental" />
    <TriColumnCard HeaderTitle="Abilities" LeftColumn="@Sheet.Talents" LeftColumnTitle="Talents" MidColumn="@Sheet.Skills" MidColumnTitle="Skills" RightColumn="@Sheet.Knowledges" RightColumnTitle="Knowledges" />
    <TriColumnCard HeaderTitle="Spheres" LeftColumn="@Sheet.Spheres.GetRange(0, 3)" MidColumn="@Sheet.Spheres.GetRange(3, 3)" RightColumn="@Sheet.Spheres.GetRange(6, 3)" />
    <MudCard Elevation="0">
        <MudCardHeader Class="pb-0">
            <CardHeaderContent>
                <MudText Typo="Typo.h4" Align="Align.Center">Advantages</MudText>
            </CardHeaderContent>
        </MudCardHeader>
        <MudCardContent>
            <MudGrid Spacing="1">
                <MudItem xs="4">
                    <RatingColumn Title="Backgrounds" Characteristics="@Sheet.Backgrounds" />
                    <RatingColumn Title="OtherTraits" Characteristics="@Sheet.OtherTraits" />
                </MudItem>
                <MudItem xs="4">
                    <MudCard Elevation="3" Class="rounded-lg mt-2">
                        <MudCardHeader Class="pb-0">
                            <CardHeaderContent>
                                <MudText Typo="Typo.h5" Align="Align.Center">Arete</MudText>
                            </CardHeaderContent>
                        </MudCardHeader>
                        <MudCardContent>
                            <Rating @bind-Value="@Sheet.Arete.Value" MaxValue="@Sheet.Arete.MaxValue" EmptyIcon="@Sheet.Arete.EmptyIcon" FullIcon="@Sheet.Arete.FullIcon"/>
                        </MudCardContent>
                    </MudCard>
                    <MudCard Elevation="3" Class="rounded-lg mt-2">
                        <MudCardHeader Class="pb-0">
                            <CardHeaderContent>
                                <MudText Typo="Typo.h5" Align="Align.Center">Willpower</MudText>
                            </CardHeaderContent>
                        </MudCardHeader>
                        <MudCardContent>
                            <Rating @bind-Value="@Sheet.WillpowerMax.Value" MaxValue="@Sheet.WillpowerMax.MaxValue" EmptyIcon="@Sheet.WillpowerMax.EmptyIcon" FullIcon="@Sheet.WillpowerMax.FullIcon" />
                            <Rating @bind-Value="@Sheet.WillpowerActual.Value" MaxValue="@Sheet.WillpowerActual.MaxValue" EmptyIcon="@Sheet.WillpowerActual.EmptyIcon" FullIcon="@Sheet.WillpowerActual.FullIcon" />
                        </MudCardContent>
                    </MudCard>
                </MudItem>
                <MudItem xs="4">
                </MudItem>
            </MudGrid>
        </MudCardContent>
    </MudCard>
</MudContainer>